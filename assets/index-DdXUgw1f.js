import{u as f,h as m,j as t,c as i,B as h,I as l,r as d,k as x,g as p}from"./index-D6jiJdKL.js";import{m as _,u as g}from"./useSetPathPage-CxwQ3eqe.js";import{I as j,n as I}from"./nameMonth-Cswc0Y0M.js";function N(e,s){if(s)return s.filter(a=>a.id===e)[0]}const k="_userDetails_1pxb6_1",D={userDetails:k},b="_header_1s7bo_1",y="_btnBack_1s7bo_10",v="_card_1s7bo_22",w="_fullName_1s7bo_29",$="_departament_1s7bo_44",Y="_header__dark_1s7bo_51",o={header:b,btnBack:y,card:v,fullName:w,departament:$,header__dark:Y};function B(e){return`${e.slice(0,1).toUpperCase()}${e.slice(1).toLowerCase()}`}const U=({className:e,userData:s})=>{const a=f(c=>c.isDark),n=m();return t.jsxs("div",{className:i(o.header,e,{[o.header__dark]:a}),children:[t.jsx(h,{className:o.btnBack,onClick:()=>n(-1),icon:t.jsx(l,{iconId:"icon-back-arrow"})}),t.jsxs("div",{className:o.card,children:[t.jsx(j,{size:104,url:s.avatarUrl}),t.jsxs("p",{className:o.fullName,children:[s.firstName," ",s.lastName,t.jsx("span",{children:s.userTag})]}),t.jsx("span",{className:o.departament,children:B(s.department)})]})]})},F="_listInfo_gva84_1",C="_rowInfo_gva84_9",E="_text_gva84_21",P="_fullYear_gva84_27",L="_listInfo__dark_gva84_34",r={listInfo:F,rowInfo:C,text:E,fullYear:P,listInfo__dark:L};function S(e){const s=new Date(e).getDate(),a=I[new Date(e).getMonth()],n=new Date(e).getFullYear();return`${s} ${a} ${n}`}function u(e){const s=new Date(e).getFullYear();return _(e)>=_(new Date)?new Date().getFullYear()-s+1:new Date().getFullYear()-s}function G(e){let s="year";return(e===1||e%10===1)&&(s="год"),(4<e&&e<=20||4<e%10&&e%10<=9||e%10===0)&&(s="лет"),(1<e&&e<=4||1<e%10&&e%10<=4)&&(s="года"),s}function M(e){return`${e.slice(0,2)} (${e.slice(2,5)}) ${e.slice(5,8)} ${e.slice(8,10)} ${e.slice(10)}`}const z=({className:e,userData:s})=>{const a=f(n=>n.isDark);return t.jsxs("ul",{className:i(r.listInfo,e,{[r.listInfo__dark]:a}),children:[t.jsxs("li",{className:r.rowInfo,children:[t.jsx(l,{iconId:"icon-star"}),t.jsx("span",{className:r.text,children:S(s.birthday)}),t.jsxs("span",{className:r.fullYear,children:[u(s.birthday)," ",G(u(s.birthday))]})]}),t.jsxs("li",{className:r.rowInfo,children:[t.jsx(l,{iconId:"icon-phone"}),t.jsx("a",{type:"phone",href:`tel:${s.phone}`,className:r.text,children:M(s.phone)})]})]})},R=({className:e})=>{g();const[s,a]=d.useState(),{userID:n}=x(),{data:c}=p("all");if(d.useEffect(()=>{n&&c&&n&&a(N(n.slice(1),c))},[c,n]),s)return t.jsxs("div",{className:i(e,D.userDetails),children:[t.jsx(U,{userData:s}),t.jsx("div",{className:"container",children:t.jsx(z,{userData:s})})]})};export{R as default};
