const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C6hr1dQQ.js","assets/index-ClIDm7oT.js","assets/index-Czq8Qs2G.css","assets/nameMonth-bK0vv4xE.js","assets/index-pZzpHpDB.css"])))=>i.map(i=>d[i]);
import{u as h,j as e,c,r as u,a as R,B as k,I as L,o as G,b as g,s as W,d as T,i as z,e as Y,_ as E,f as D,g as I,E as P}from"./index-ClIDm7oT.js";import{m as f,u as A}from"./useSetPathPage-CClTNz-N.js";const B="_home_i6ngd_1",V={home:B},$="_form_1e56u_1",M={form:$},F=[{value:"all",label:"Все"},{value:"design",label:"Дизайн"},{value:"analytics",label:"Аналитика"},{value:"management",label:"Менеджмент"},{value:"ios",label:"iOS"},{value:"android",label:"Android"},{value:"qa",label:"QA"},{value:"back_office",label:"Бэк-офис"},{value:"frontend",label:"Frontend"},{value:"hr",label:"HR"},{value:"pr",label:"PR"},{value:"backend",label:"Backend"},{value:"support",label:"Техподдержка"}],U="_radioGroup_13jgo_1",O="_radioGroup__input_13jgo_14",H="_radioGroup__label_13jgo_17",Q="_radioGroup__label_isAcive_13jgo_33",q="_radioGroup__dark_13jgo_37",x={radioGroup:U,radioGroup__input:O,radioGroup__label:H,radioGroup__label_isAcive:Q,radioGroup__dark:q},J=({className:s,name:t,options:a,defaultValue:o="all",onChange:r})=>{const n=h(l=>l.isDark),d=l=>{const m=l.target.value;r(m||"all")};return e.jsx("div",{className:c(s,x.radioGroup,{[x.radioGroup__dark]:n}),"aria-labelledby":`${t}-legend`,children:a.map(({value:l,label:m})=>e.jsxs("label",{className:c(x.radioGroup__label,{[x.radioGroup__label_isAcive]:o===l}),children:[e.jsx("input",{className:x.radioGroup__input,type:"radio",name:t,value:l,onChange:b=>d(b)}),m]},l))})},K="_container_xwlkn_1",X="_buttonSearch_xwlkn_6",Z="_input_xwlkn_10",ee="_buttonSort_xwlkn_34",ae="_buttonSearch__icon_xwlkn_40",te="_buttonSort__icon_xwlkn_41",se="_buttonSearch__icon_black_xwlkn_45",oe="_buttonSort__icon_violet_xwlkn_50",p={container:K,buttonSearch:X,input:Z,buttonSort:ee,buttonSearch__icon:ae,buttonSort__icon:te,buttonSearch__icon_black:se,buttonSort__icon_violet:oe},ne=({className:s,onInputChange:t,value:a,placeholder:o="Введи имя, фамилию, тег..."})=>{const[r,n]=u.useState(0),d=u.useRef(null),[l,m]=u.useState(a),b=R(),w=h(i=>i.sortType);u.useEffect(()=>{n(a.length);const i=setTimeout(()=>y(l),600);return()=>clearTimeout(i)},[a,l]);const y=i=>{t(i||"")};return e.jsxs("div",{className:c(p.container,s),children:[e.jsx(k,{className:p.buttonSearch,onClick:()=>{d.current&&y(d.current?.value)},icon:e.jsx(L,{iconId:"icon-search",className:c(p.buttonSearch__icon,{[p.buttonSearch__icon_black]:r>0})}),"aria-label":"Поиск"}),e.jsx("input",{ref:d,type:"text",className:p.input,onChange:i=>m(i.target.value),value:l,placeholder:o,"aria-label":"Поле поиска"}),e.jsx(k,{className:p.buttonSort,onClick:()=>b(G()),icon:e.jsx(L,{iconId:"icon-sort",className:c(p.buttonSort__icon,{[p.buttonSort__icon_violet]:w==="birthday"})}),"aria-label":"Сортировка"})]})},re="_modalWrapper_m32az_1",_e="_modalWindow_m32az_20",ie="_modalWindow__dark_m32az_32",ce="_modalWindow__top_m32az_42",le="_modalWindow__title_m32az_48",de="_modalWindow__close_m32az_53",ue="_radioGroup_m32az_81",me="_custom_inputRadio_m32az_87",pe="_custom_inputRadio__input_m32az_92",he="_custom_inputRadio__checkbox_m32az_95",be="_custom_inputRadio__checkbox_active_m32az_104",xe="_custom_inputRadio__label_m32az_107",_={modalWrapper:re,modalWindow:_e,modalWindow__dark:ie,modalWindow__top:ce,modalWindow__title:le,modalWindow__close:de,radioGroup:ue,custom_inputRadio:me,custom_inputRadio__input:pe,custom_inputRadio__checkbox:he,custom_inputRadio__checkbox_active:be,custom_inputRadio__label:xe},je=({className:s})=>{const t=h(n=>n.isDark),a=R(),o=h(n=>n.sortType),r=400;return e.jsx("div",{className:c(s,_.modalWrapper),children:e.jsxs("div",{className:c(_.modalWindow,{[_.modalWindow__dark]:t}),children:[e.jsxs("div",{className:_.modalWindow__top,children:[e.jsx("span",{className:_.modalWindow__title,children:"Сортировка"}),e.jsx(k,{className:_.modalWindow__close,onClick:()=>a(g()),icon:e.jsx(L,{iconId:"icon-close"})})]}),e.jsxs("div",{className:_.radioGroup,children:[e.jsxs("div",{className:_.custom_inputRadio,children:[e.jsx("input",{className:_.custom_inputRadio__input,type:"radio",id:"sort-abc",name:"sort",value:"abc",checked:o==="abc",onChange:()=>{a(W()),setTimeout(()=>a(g()),r)}}),e.jsx("span",{className:c(_.custom_inputRadio__checkbox,{[_.custom_inputRadio__checkbox_active]:o==="abc"})}),e.jsx("label",{className:_.custom_inputRadio__label,htmlFor:"sort-abc",children:"По алфавиту"})]}),e.jsxs("div",{className:_.custom_inputRadio,children:[e.jsx("input",{className:_.custom_inputRadio__input,type:"radio",id:"sort-birthday",name:"sort",value:"birthday",checked:o==="birthday",onChange:()=>{a(T()),setTimeout(()=>a(g()),r)}}),e.jsx("span",{className:c(_.custom_inputRadio__checkbox,{[_.custom_inputRadio__checkbox_active]:o==="birthday"})}),e.jsx("label",{className:_.custom_inputRadio__label,htmlFor:"sort-birthday",children:"По дню рождения"})]})]})]})})},ye=({className:s,setValueInput:t,valueInput:a,setDepartament:o,departament:r})=>{const n=h(d=>d.showModal);return e.jsxs("div",{className:c(s,M.form),children:[e.jsx(ne,{onInputChange:t,value:a}),e.jsx(J,{options:F,name:"departments",defaultValue:r,onChange:o}),n&&e.jsx(je,{})]})},fe="_emptyList_1af45_1",ve="_emptyList__text_1af45_8",we="_emptyList__descrip_1af45_15",ge="_emptyList__img_1af45_21",v={emptyList:fe,emptyList__text:ve,emptyList__descrip:we,emptyList__img:ge},Ne=({className:s})=>e.jsxs("div",{className:c(s,v.emptyList),children:[e.jsx("img",{src:Y,srcSet:z,width:56,height:56,alt:"Изображение лупы",className:v.emptyList__img}),e.jsx("span",{className:v.emptyList__text,children:"Мы никого не нашли"}),e.jsx("span",{className:v.emptyList__descrip,children:"Попробуй скорректировать запрос"})]});function Se(s){let t;const a=[],o=[];return s.sort((r,n)=>f(r.birthday)-f(n.birthday)).forEach(r=>{const n=new Date(r.birthday);f(new Date)>=f(n)?o.push(r):a.push(r)}),t={thisYear:a,nextYear:o},t}const ke="_userList_1hpru_1",Le="_userList__lineYear_1hpru_10",N={userList:ke,userList__lineYear:Le},Ce="_userCard_uplpi_1",Re="_userCard__img_uplpi_7",Ge="_userCard__info_uplpi_16",We="_userCard__fullName_uplpi_22",Te="_userCard__departament_uplpi_31",j={userCard:Ce,userCard__img:Re,userCard__info:Ge,userCard__fullName:We,userCard__departament:Te},ze=({className:s})=>e.jsx("div",{children:e.jsxs("div",{className:c(s,j.userCard),children:[e.jsx("div",{className:j.userCard__img}),e.jsxs("div",{className:j.userCard__info,children:[e.jsx("p",{className:j.userCard__fullName}),e.jsx("p",{className:j.userCard__departament})]})]})}),Ye=u.lazy(()=>E(()=>import("./index-C6hr1dQQ.js"),__vite__mapDeps([0,1,2,3,4]))),S=({data:s,className:t,needYear:a=!1,needBirthday:o=!1})=>{const r=new Date().getFullYear();return e.jsxs(e.Fragment,{children:[a&&e.jsx("div",{className:N.userList__lineYear,children:e.jsx("span",{children:r+1})}),e.jsx("ul",{className:c(t,N.userList),children:s.map(n=>e.jsx("li",{className:N.userList__item,children:e.jsx(u.Suspense,{fallback:e.jsx(ze,{}),children:e.jsx(Ye,{data:n,needBirthday:o})})},n.id))})]})},C=({data:s})=>{const t=h(a=>a.sortType);if(s.length){if(t==="birthday"){const a=Se(s);return e.jsxs(e.Fragment,{children:[a.thisYear.length!==0&&e.jsx(S,{data:a.thisYear,needBirthday:!0}),a.nextYear.length!==0&&e.jsx(S,{data:a.nextYear,needYear:!0,needBirthday:!0})]})}return e.jsx(S,{data:s})}else return e.jsx(Ne,{})};function Ee(s,t){return s.filter(a=>a.firstName.toLocaleLowerCase().includes(t.toLowerCase())||a.lastName.toLocaleLowerCase().includes(t.toLowerCase())||a.userTag.toLocaleLowerCase().includes(t.toLowerCase())).sort((a,o)=>a.firstName.localeCompare(o.firstName))}const Pe=({className:s})=>{A();const[t,a]=D(),[o,r]=u.useState(t.get("search")||""),[n,d]=u.useState(t.get("departament")),{data:l,isSuccess:m,isError:b,isLoading:w,refetch:y}=I(n||"all",{pollingInterval:1e3*60*5,refetchOnReconnect:!0});return u.useEffect(()=>{const i=new URLSearchParams(t);n&&n!=="all"?i.set("departament",n):i.delete("departament"),a(i)},[n]),u.useEffect(()=>{const i=new URLSearchParams(t);o?i.set("search",o.toLowerCase().trim()):i.delete("search"),a(i)},[o]),e.jsx("div",{className:"container",children:e.jsxs("div",{className:c(s,V.home),children:[e.jsx(ye,{setValueInput:r,valueInput:o,setDepartament:d,departament:n}),m&&e.jsx(C,{data:[...Ee(l,o)]}),w&&e.jsx(C,{data:Array(5)}),b&&e.jsx(P,{refetch:y})]})})};export{Pe as default};
